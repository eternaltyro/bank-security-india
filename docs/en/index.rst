.. 
   Copyright (c) 2015 ~eternaltyro
   
   Permission is granted to copy, distribute and/or modify this document
   under the terms of the GNU Free Documentation License, Version 1.3
   or any later version published by the Free Software Foundation;
   with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
   A copy of the license is included in the section entitled "GNU
   Free Documentation License".

   Inspired heavily from Rodolphe Breard's Bank-a-geeks project.

.. 
   TODO: Punjab national bank
   TODO: OTP (delivery mode? App / SMS)
   TODO: Mobile app login mode (PIN/ password)

.. note::
   This document is still work-in-progress. I'm still trying to compile a lot of shit by myself. If you wanna help out, get in touch :)

Bank Security India
==========================

.. include:: ../notes.txt


.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - Auth.
     - SSL/TLS
     - Passwords
     - Mobile Apps.
   
   * - :doc:`Allahabad Bank <allahabad_bank>`
     - :note_na:`?`
     - :note_c:`C` [#allahabad]_
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Andhra Bank <andhra_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Axis Bank <axis_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Bank of Baroda <bank_of_baroda>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Bank of India <bank_of_india>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Bank of Maharashtra <maharashtra_bank>`
     - :note_na:`?`
     - :note_f:`F` [#weirdmaha]_
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Bharatiya Mahila Bank <mahila_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Canara Bank <canara_bank>`
     - :note_na:`?`
     - :note_a:`A-`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Catholic Syrian Bank <catholic_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Central Bank of India <central_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`City Union Bank <cub_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Corporation Bank <corporation_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Dena Bank <dena_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Development Credit Bank <devcred_bank>`
     - :note_na:`?`
     - :note_a:`A-`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Dhanlaxmi Bank <dhanlaxmi_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Federal Bank <federal_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`HDFC Bank <hdfc_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`ICICI Bank <icici_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`IDBI Bank <idbi_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Indian Bank <indian_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Indian Overseas Bank <iob_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Indusind Bank <indusind_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`ING Vysya Bank <ingvysya_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Jammu and Kashmir Bank <jammukashmir_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Karnataka Bank <karnataka_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Karur Vysya Bank <karurvysya_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Kotak Mahindra Bank <kotak_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`
   
   * - :doc:`Lakshmi Vilas Bank <lakshmivilas_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Nainital Bank <nainital_bank>`
     - :note_na:`?`
     - :note_f:`F by script`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Oriental Bank of Commerce <obc_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Punjab and Sind Bank <punjabsind_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Ratnakar Bank <ratnakar_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`South Indian Bank <southindian_bank>`
     - :note_na:`?`
     - :note_b:`B`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`State Bank of India <sbi_bank>` [#note_statebanks]_
     - :note_na:`?`
     - :note_c:`C` [#onlinesbi]_
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Syndicate Bank <syndicate_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`TamilNad Mercantile Bank <tmb_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`UCO Bank <uco_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Union Bank of India <union_bank>`
     - :note_na:`?`
     - :note_f:`F`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Vijaya Bank <vijaya_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`

   * - :doc:`Yes bank <yes_bank>`
     - :note_na:`?`
     - :note_c:`C`
     - :note_na:`?`
     - :note_na:`?`


.. [#note_statebanks] Includes State Banks of { Bikaner and Jaipur | Hyderabad | Mysore | Patiala | Travancore}.
.. [#onlinesbi] https://www.ssllabs.com/ssltest/analyze.html?d=onlinesbi.com
.. [#allahabad] https://www.ssllabs.com/ssltest/analyze.html?d=allbankonline.in
.. [#weirdmaha] Ports open plus site inaccessible

:doc:`ssl tests <ssltests>`

.. toctree::
   :hidden:

   ssltests
   allahabad_bank
   andhra_bank
   axis_bank
   bank_of_baroda
   bank_of_india
   maharashtra_bank
   mahila_bank
   canara_bank
   catholic_bank
   central_bank
   cub_bank
   corporation_bank
   dena_bank
   devcred_bank
   dhanlaxmi_bank
   federal_bank
   hdfc_bank
   icici_bank
   idbi_bank
   indian_bank
   iob_bank
   indusind_bank
   ingvysya_bank
   jammukashmir_bank
   karnataka_bank
   karurvysya_bank
   kotak_bank
   lakshmivilas_bank
   nainital_bank
   obc_bank
   punjabsind_bank
   ratnakar_bank
   southindian_bank
   sbi_bank
   syndicate_bank
   tmb_bank
   uco_bank
   union_bank
   vijaya_bank
   yes_bank
   

notes
-----

 - :note_a:`A` : No Complaints ;
 - :note_b:`B` : Good, but could be better ;
 - :note_c:`C`/:note_d:`D` : Bad. Medium risk. ;
 - :note_e:`E`/:note_f:`F` : Worst. High risk practices.


Criteria
---------

**Authentication**

I look at password strengths for user logins. Minimum length below 8 is a major fail and maximum lengths below 20 is again a fail.Having a lax requirement for length of passwords encourages bad password discipline. People should be allowed to think in terms of pass-phrases than pass'words'. For this reason, the minimum and maximum password lengths need be reasonable numbers. 

.. tip::
   Password Entrophy is a measure of how difficult it is to guess a user's password under certain assumptions. If the entropy is high, then the password is difficult to guess. For passwords to have high entropy, they MUST NOT have identifiable information, dictionary words, sequences of alphabets & numbers or known patterns (like qwerty, abc123). So a password or a pass-phrase, rather should be sufficiently long, contain upper and lower case alphabets, numbers and special characters.
   
   And passwords should be memorable ( like XKCD's correcthorsebatterystaple or Ed. Snowden's MargaretThatcherisa110%SEXY.) And one should never use the same password on more than one account. What the actual fuck?!

The best way to use unique, hard-to-guess, hard-to-bruteforce passwords is to use a Password Manager like KeePassX. Don't take it from me, take it from the security experts [#pwdmgr]_

**Snake Oil**

Okay, not quite. But still.. There are some weird practices that maybe bring a false sense of security with users. Here are a few:

* Blocking right clicks on the page
* Blocking pasting from clipboards
* Virtual Keyboards

Blocking right clicks is just laughable. What do the security engineers think that does? Just an annoyance. Just silly.
Blocking paste from clipboard would be funny as well if not for a serious problem. This practice discourages users from using a password manager, which if you read the previous section, is very important a tool.

Virtual Keyboards do provide a little bit of resistance against keyloggers. Only a little though. If your operating system is owned, you're toast anyway. However, if you use a shitty, outdated browser, just upgrade it to a more decent version. Speaking of which..

**Browser Recommendations**

The browser and version recommendations from most banks are downright pathetic. I'd personally recommend that those banks that recommend IE6/7 be penalized heavily by the Reserve Bank of India. It's just outrageous. One, the fact that a bank recommends IE6 means they are willing to not heed to the tons of security vulnerabilities that the user might be exposed to. Two, the banks subtly coerce the customers into using a proprietary operating system. They should instead by recommending
standards compliant browsers. 

.. tip::
   If your bank recommends Adobe Acrobat Reader, Adobe / Macromedia Flash, or Microsoft Internet Explorer 6/7, your bank people are a class-A ass-holes! You should send them a mail reminding them that they are ass-holes. If you wanna be polite, you could use the word 'morons' instead. Do it. Now!!

A good browser recommendation would be any recent version of Firefox, Chrome, Internet Explorer, Opera, Safari or equivalent. Banks have no business recommending what Operating System you should or should not use. Ideally, they should make sure, their sites work on any Free Software browsers / OSes.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Browser
     - Most recent stable version

   * - Mozilla Firefox 
     - 40.0

   * - Google Chrome
     - 44.0

   * - Microsoft Internet Explorer
     - 11

   * - Opera
     - 31.0

   * - GNU IceCat
     - 31.8

**SSL/TLS Configuration**

For the quality of configuration when it comes to TLS/SSL, I used Qualys SSL Labs SSL checks. I click on the netbanking link for the respective banks and then when I see the login screen, I simply copied the domain.tld into the SSL labs check page and got the resultant rating and any warnings / errors. 

Interestingly, during my experiments, I came across atleast one major bank site, that had requested that SSL Labs do not test their site. Seems like a big glass of security by obscurity. [#obscurenotsecure]_ Bruce Schneier also says this:

  Smart security engineers open their systems to public scrutiny, because that’s how they improve. The truly awful engineers will not only hide their bad designs behind secrecy, but try to belittle any negative security results. Get ready for Rapiscan to claim that the researchers had old software, and the new software has fixed all these problems. Or that they’re only theoretical. Or that the researchers themselves are the problem. We’ve seen it all before.

For those sites that Qualys won't test, I used a neat SSL test script called testssl.sh [#testssl]_

I'm looking for insecure ciphers (MD5, RC4), vulnerable protocols (SSLv3) and similar poor security parameters in the SSL certificates. 

**Mobile Applications**

Many banks have mobile applications that let users bank on the move. I look at the permissions the applications demand. In this document, I sample just Android applications. Most of the time, the rationale behind specific permissions are never explained and the users give less than a shit. 

But everyone would agree that a banking application need not have access to your camera and flashlight or your contacts and call history. It doesn't take a genius to figure that such permissions are troublesome and the applications have the potential to infringe on users privacy or even become surveillance tools later on. 

A bit of a stretch? Maybe. Improbable? Nope.


.. [#pwdmgr] http://googleonlinesecurity.blogspot.in/2015/07/new-research-comparing-how-security.html
.. [#obscurenotsecure] https://www.schneier.com/crypto-gram/archives/2002/0515.html#1
.. [#testssl] https://github.com/drwetter/testssl.sh 
